<Page x:Class="Flashcards.Views.ManageFlashcardsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Manage Flashcards">
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <TextBlock Grid.Row="0" Text="Manage Flashcards" FontSize="24" FontWeight="Bold" Foreground="#333333" Margin="0,0,0,20"/>
            
            <Border Grid.Row="1" Background="#F9F9F9" CornerRadius="5" Padding="15" Margin="0,0,0,15">
                <StackPanel>
                    <TextBlock x:Name="txtFormTitle" Text="Add New Flashcard" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0" Margin="0,0,10,0">
                            <TextBlock Text="Select Stack:" Margin="0,5,0,5"/>
                            <ComboBox x:Name="cmbStacks" DisplayMemberPath="Name" SelectedValuePath="Id"/>
                            
                            <TextBlock Text="Category:" Margin="0,10,0,5"/>
                            <ComboBox x:Name="cmbCategory" IsEditable="True">
                                <ComboBoxItem Content="Animals"/>
                                <ComboBoxItem Content="Cars"/>
                                <ComboBoxItem Content="Countries"/>
                                <ComboBoxItem Content="Geography"/>
                                <ComboBoxItem Content="History"/>
                                <ComboBoxItem Content="Languages"/>
                                <ComboBoxItem Content="Mathematics"/>
                                <ComboBoxItem Content="Science"/>
                                <ComboBoxItem Content="Sports"/>
                                <ComboBoxItem Content="Technology"/>
                                <ComboBoxItem Content="General" IsSelected="True"/>
                            </ComboBox>
                            
                            <TextBlock Text="Difficulty:" Margin="0,10,0,5"/>
                            <ComboBox x:Name="cmbDifficulty">
                                <ComboBoxItem Content="Easy"/>
                                <ComboBoxItem Content="Medium" IsSelected="True"/>
                                <ComboBoxItem Content="Hard"/>
                            </ComboBox>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="1" Margin="10,0,0,0">
                            <TextBlock Text="Question (Front):" Margin="0,5,0,5"/>
                            <TextBox x:Name="txtQuestion" Height="60" TextWrapping="Wrap" AcceptsReturn="True"/>
                            
                            <TextBlock Text="Answer (Back - no spaces):" Margin="0,10,0,5"/>
                            <TextBox x:Name="txtAnswer" Height="60" TextWrapping="Wrap" AcceptsReturn="True"/>
                        </StackPanel>
                    </Grid>
                    
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                        <Button x:Name="btnSaveFlashcard" Content="Add Flashcard" Click="BtnSaveFlashcard_Click" Width="150" Margin="0,0,10,0"/>
                        <Button x:Name="btnCancelEdit" Content="Cancel" Click="BtnCancelEdit_Click" Width="100" Visibility="Collapsed" Background="#999999"/>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <Grid Grid.Row="2" MinHeight="400">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="350"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <TextBlock Grid.Row="0" Text="Available Flashcards" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                
                <ScrollViewer Grid.Row="1" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="Filter by Stack:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                        <ComboBox x:Name="cmbFilterStacks" DisplayMemberPath="Name" SelectedValuePath="Id" Width="150" SelectionChanged="CmbFilterStacks_SelectionChanged"/>
                        
                        <TextBlock Text="Category:" VerticalAlignment="Center" Margin="15,0,10,0"/>
                        <ComboBox x:Name="cmbFilterCategory" Width="150" SelectionChanged="CmbFilterCategory_SelectionChanged">
                            <ComboBoxItem Content="All" IsSelected="True"/>
                            <ComboBoxItem Content="Animals"/>
                            <ComboBoxItem Content="Cars"/>
                            <ComboBoxItem Content="Countries"/>
                            <ComboBoxItem Content="Geography"/>
                            <ComboBoxItem Content="History"/>
                            <ComboBoxItem Content="Languages"/>
                            <ComboBoxItem Content="Mathematics"/>
                            <ComboBoxItem Content="Science"/>
                            <ComboBoxItem Content="Sports"/>
                            <ComboBoxItem Content="Technology"/>
                            <ComboBoxItem Content="General"/>
                        </ComboBox>
                        
                        <TextBlock Text="Difficulty:" VerticalAlignment="Center" Margin="15,0,10,0"/>
                        <ComboBox x:Name="cmbFilterDifficulty" Width="120" SelectionChanged="CmbFilterDifficulty_SelectionChanged">
                            <ComboBoxItem Content="All" IsSelected="True"/>
                            <ComboBoxItem Content="Easy"/>
                            <ComboBoxItem Content="Medium"/>
                            <ComboBoxItem Content="Hard"/>
                        </ComboBox>
                        
                        <Button x:Name="btnShowAll" Content="Show All" Click="BtnShowAll_Click" Width="100" Margin="15,0,0,0"/>
                    </StackPanel>
                </ScrollViewer>
                
                <DataGrid x:Name="dgFlashcards" 
                          Grid.Row="2" 
                          SelectionMode="Single" 
                          AutoGenerateColumns="False" 
                          MouseDoubleClick="DgFlashcards_MouseDoubleClick"
                          VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Auto">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                        <DataGridTextColumn Header="Stack ID" Binding="{Binding StackId}" Width="70"/>
                        <DataGridTextColumn Header="Category" Binding="{Binding Category}" Width="100"/>
                        <DataGridTextColumn Header="Difficulty" Binding="{Binding Difficulty}" Width="80"/>
                        <DataGridTextColumn Header="Question" Binding="{Binding Front}" Width="*" MinWidth="150"/>
                        <DataGridTextColumn Header="Answer" Binding="{Binding Back}" Width="*" MinWidth="150"/>
                    </DataGrid.Columns>
                </DataGrid>
                
                <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                    <Button x:Name="btnViewFlashcard" Content="View Details" Click="BtnViewFlashcard_Click" Background="#2196F3" Width="120" Margin="0,0,10,0"/>
                    <Button x:Name="btnEditFlashcard" Content="Edit Selected" Click="BtnEditFlashcard_Click" Background="#FF9800" Width="120" Margin="0,0,10,0"/>
                    <Button x:Name="btnDeleteFlashcard" Content="Delete Selected" Click="BtnDeleteFlashcard_Click" Background="#F44336" Width="120"/>
                </StackPanel>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>
